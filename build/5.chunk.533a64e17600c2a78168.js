webpackJsonp([5,14],{497:function(e,t,a){e.exports={default:a(498),__esModule:!0}},498:function(e,t,a){var n=a(58),s=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},504:function(e,t,a){var n,s,i={};n=a(505),s=a(518),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(c.template=s),c.computed||(c.computed={}),Object.keys(i).forEach(function(e){var t=i[e];c.computed[e]=function(){return t}})},505:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(506),i=n(s),c=a(509),r=n(c),o=a(512),l=n(o),u=a(515),d=n(u);t.default={components:{Management:i.default,Character:r.default,Cartemenu:l.default,Department:d.default},data:function(){return{self:this,chuan:1,user_show:!1,user_show1:!1,userarr:[],userList:[],userid:"",social:[],name:"",list:"",deptName:"",deptId:"",updateUser:"",updateUserName:!1,nameValue:"",email:"",id:"",character_show:!1,character_show1:!1,getcharacterarr:[],characterList:[],selectarr:[],character_id:"",arrayarr:[],getcharacter2:[{sortable:!0,title:"部门名称",key:"deptName",type:"center"},{sortable:!0,title:"邮箱",key:"email",type:"center"},{sortable:!0,title:"名称",key:"name",type:"center"}],getcharacterdata2:[]}},methods:{get1:function(t){var a=this;if(this.user_show=t.isb,this.user_show1=t.isc,this.id=t.id,this.user_show){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/role/queryRolesByUser",s="http://yhdc.tendcloud.com/atm_backend/systemManager/role/queryAllRoles";e.http.post(n,{userId:t.id},{emulateJSON:!0}).then(function(e){a.userarr=e.body,a.social=[];for(var t=0;t<e.body.length;t++)a.social.push(e.body[t].id)},function(e){console.log("请求数据失败")}),e.http.post(s,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){a.userList=e.body.list},function(e){console.log("请求数据失败")})}else{this.name=t.name,this.email=t.email,this.deptName=t.deptName,this.deptId=t.deptId;var i="http://yhdc.tendcloud.com/atm_backend/systemManager/dept/queryAllDepts";e.http.post(i,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){a.list=e.body.list},function(e){console.log("请求数据失败")}),this.list=t.list}},changeSocoal:function(e){var t=this.social.indexOf(e.id);t!==-1?this.social.splice(t,1):this.social.push(e.id)},changearrayarr:function(e){var t=this.arrayarr.indexOf(e.id);t!==-1?this.arrayarr.splice(t,1):this.arrayarr.push(e.id)},change:function(e){for(var t=e.id,a=e.name,n=[],s=0;s<this.userarr.length;s++)n.push(this.userarr[s].id);return"-1"==n.indexOf(t)&&(this.userarr.push({id:t,name:a}),void this.social.push(parseInt(t)))},userOk:function(){var t=this,a=this.social.join(),n="http://yhdc.tendcloud.com/atm_backend/systemManager/user/addOrDelUserRoles";e.http.post(n,{userId:this.id,roles:a},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?t.$Notice.success({title:"角色管理",desc:"修改角色成功"}):t.$Notice.error({title:"角色管理",desc:""})},function(e){console.log("请求数据失败")})},get2:function(e){this.character_show=e.isb,this.character_show1=e.isc,this.character_id=e.id,e.isb?this.getcharacterConnect():this.getcharacterdata2=e.connect},getcharacterConnect:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/menu/queryMenusByRole";e.http.post(a,{roleId:this.character_id},{emulateJSON:!0}).then(function(e){t.getcharacterarr=e.body,t.arrayarr=[];for(var a=0;a<e.body.length;a++)t.arrayarr.push(e.body[a].id)},function(e){console.log("请求数据失败")});var n="http://yhdc.tendcloud.com/atm_backend/systemManager/menu/queryAllMenus";e.http.post(n,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){t.characterList=e.body.list},function(e){console.log("请求数据失败")})},characterchange:function(e){for(var t=e.id,a=e.name,n=[],s=0;s<this.getcharacterarr.length;s++)n.push(this.getcharacterarr[s].id);return"-1"==n.indexOf(t)&&(this.getcharacterarr.push({id:t,name:a}),void this.arrayarr.push(parseInt(t)))},characterOk:function(){var t=this,a=this.arrayarr.join(),n="http://yhdc.tendcloud.com/atm_backend/systemManager/role/addOrDelRoleMenus";e.http.post(n,{roleId:this.character_id,menus:a},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(t.getcharacterConnect(),t.$Notice.success({title:"角色管理",desc:"增加角色菜单成功"})):t.$Notice.error({title:"角色管理",desc:"增加角色菜单失败！"})},function(e){console.log("请求数据失败")})},updateName:function(){this.updateUserName=!0},off:function(){this.updateUserName=!1,this.nameValue=""},updateDeptName:function(e){this.deptName=e.deptName,this.deptId=e.id},SaveUser:function(){var t=this,a="";a=""!==this.nameValue?this.nameValue:this.name;var n="http://yhdc.tendcloud.com/atm_backend/systemManager/user/updateUser";e.http.post(n,{userId:this.id,deptId:this.deptId,email:this.email,name:a},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(t.nameValue="",t.chuan=t.chuan+1,t.updateUserName=!1,t.$Notice.success({title:"修改用户",desc:"修改用户成功"})):t.$Notice.error({title:"修改用户",desc:"修改用户失败！"})},function(e){console.log("请求数据失败")})}}}}).call(t,a(1))},506:function(e,t,a){var n,s,i={};n=a(507),s=a(508),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(c.template=s),c.computed||(c.computed={}),Object.keys(i).forEach(function(e){var t=i[e];c.computed[e]=function(){return t}})},507:function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(497),i=n(s);t.default={props:["chuan"],data:function(){return{self:this,emailVal:"",branch:"",pageNum:1,search:"",current:1,show:{id:1,isb:!1,isc:!1,name:"",email:"",deptName:"",deptId:""},navigatePages:1,branchList:[],data1:[],columns1:[{sortable:!0,title:"用户名称",key:"name",type:"center"},{sortable:!0,title:"部门名称",key:"deptName",type:"center"},{sortable:!0,title:"邮箱",key:"email",type:"center"},{title:"操作",key:"",width:370,type:"center",render:function(e,t,a){var n=e.id;return'<i-button type="primary" size="small" @click="updatarole('+n+')" class="management-btn">角色管理</i-button> <i-button type="primary" size="small" @click="selectuser('+n+')" class="management-btn">重置密码</i-button><i-button type="primary" size="small" @click="unemail('+n+')" class="management-btn" >通知</i-button><i-button type="primary" size="small" @click="updtaeUser('+n+')" class="management-btn">修改</i-button><i-button type="error" size="small" @click="remove('+n+')">删除</i-button> '}}]}},ready:function(){this.readygetbranch(),this.managData()},watch:{chuan:function(){this.managData()}},methods:{readygetbranch:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/dept/queryAllDepts";e.http.post(a,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){t.branchList=e.body.list},function(e){console.log("请求不到数据")})},changePage:function(e){this.pageNum=e,this.current=e,this.managData()},managData:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/user/queryAllUsers";e.http.post(a,{pageNum:this.pageNum,pageSize:15},{emulateJSON:!0}).then(function(e){t.data1=e.body.list,t.navigatePages=e.body.total},function(e){console.log("请求不到数据")})},adduser:function(){var t=this;if(this.emailVal)if(this.branch){var a="http://yhdc.tendcloud.com/atm_backend/systemManager/user/addUser";e.http.post(a,{email:this.emailVal,deptId:this.branch},{emulateJSON:!0}).then(function(e){0===e.body.resultCode?(t.managData(),t.$Notice.success({title:"新增用户",desc:"新增用户成功"})):t.$Notice.error({title:"新增用户",desc:"新增用户失败！"})},function(e){console.log("请求不到数据")})}else this.$Notice.warning({title:"用户管理",desc:"请选择部门"});else this.$Notice.warning({title:"用户管理",desc:"请输入邮箱"})},updatarole:function(e){this.show.id=e,this.show.isb=!0,this.show.isc=!1,this.$emit("child-msg",this.show)},selectuser:function(t){var a=this;this.$Modal.confirm({title:"重置密码",content:"<p>您确认要重置密码吗？</p>",onOk:function(){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/user/resetPassword";e.http.post(n,{userId:t},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?a.$Notice.success({title:"重置密码",desc:"重置密码成功"}):a.$Notice.error({title:"重置密码",desc:"重置密码失败！"})},function(e){console.log("请求不到数据")})}})},remove:function(t){var a=this;this.$Modal.confirm({title:"删除用户",content:"<p>您确认删除当前用户吗？</p>",onOk:function(){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/user/deleteUser";e.http.post(n,{userId:t},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(a.managData(),a.$Notice.success({title:"删除用户",desc:"删除用户成功"})):a.$Notice.error({title:"删除用户",desc:"删除用户失败！"})},function(e){console.log("请求不到数据")})}})},searchPlay:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/user/queryAllUsers";e.http.post(a,{keyword:this.search,pageNum:1,pageSize:15},{emulateJSON:!0}).then(function(e){t.data1=e.body.list,t.navigatePages=e.body.total,t.current=1},function(e){console.log("请求不到数据")})},unemail:function(t){var a=this;this.$Modal.confirm({title:"通知",content:"<p>您确认发送通知吗？</p>",onOk:function(){for(var n=a.data1,s=[],c=[],r=0;r<n.length;r++)s.push(n[r].id),c.push(n[r].email);var o=s.indexOf(t),l=c[o],u={toAddress:l},d=(0,i.default)(u),h="http://yhdc.tendcloud.com/atm_backend/commonServiceManager/notify";console.log(d),e.http.get(h,{params:{alertType:0,messageType:0,params:d}}).then(function(e){console.log(e.body.resultCode),0===e.body.resultCode?a.$Notice.success({title:"通知",desc:"发送邮件成功"}):a.$Notice.error({title:"通知",desc:"发送邮件失败！"})},function(e){console.log("请求不到数据")})}})},updtaeUser:function(e){this.show.id=e,this.show.isb=!1,this.show.isc=!0;for(var t=this.data1,a=[],n=0;n<t.length;n++)a.push(t[n].id);var s=a.indexOf(e);this.show.name=t[s].name,this.show.deptName=t[s].deptName,this.show.email=t[s].email,this.show.deptId=t[s].deptId,this.$emit("child-msg",this.show)}}}}).call(t,a(1))},508:function(e,t){e.exports=' <div class=management-swiper> <p> <i-input :value.sync=emailVal placeholder=请输入邮箱名称 style="width: 200px" size=small></i-input> <i-select :model.sync=branch style=width:200px size=small class=user1-mar> <i-option v-for="item in branchList" :value=item.id>{{item.deptName}}</i-option> </i-select> <i-button type=primary size=small @click=adduser>新增用户</i-button> <i-input :value.sync=search size=small placeholder=请输入要搜索的内容... style="width: 200px;margin-left:10px" @keyup.enter=searchPlay></i-input> <i-button type=primary size=small @click=searchPlay icon=ios-search class=user-mar>搜索</i-button> </p> <i-table highlight-row border :columns=columns1 :data=data1 :content=self size=small></i-table> <div class=page-footer> <page :total=navigatePages @on-change=changePage :current=current :page-size=15 show-total></page> </div> </div> '},509:function(e,t,a){var n,s,i={};n=a(510),s=a(511),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(c.template=s),c.computed||(c.computed={}),Object.keys(i).forEach(function(e){var t=i[e];c.computed[e]=function(){return t}})},510:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{self:this,characterval:"",characterShow:{id:1,connect:"",isb:!1,idc:!1},columnscharacter:[{sortable:!0,title:"角色名称",key:"name",type:"center"},{sortable:!0,title:"是否是管理员",type:"center",render:function(e,t,a){var n="否";return 1==e.admin&&(n="是"),'<i-button type="primary" size="small">'+n+"</i-button>"}},{title:"操作",type:"center",render:function(e,t,a){var n=e.id;return'<i-button type="primary" size="small" @click="updatemenu('+n+')" class="management-btn">菜单管理</i-button> <i-button type="primary" size="small" @click="updateuser('+n+')" class="management-btn">用户管理</i-button><i-button type="error" size="small" @click="removecharacter('+n+')" class="management-btn">删除</i-button>'}}],data1:[]}},ready:function(){this.addconnect()},methods:{addcharacter:function(){for(var t=this,a=[],n=0;n<this.data1.length;n++)a.push(this.data1[n].name);if(""==this.characterval)this.$Notice.error({title:"用户管理",desc:"新增角色失败 请先输入内容！"});else if("-1"!=a.indexOf(this.characterval))this.$Notice.error({title:"用户管理",desc:"新增角色失败 已有要新增的角色！"});else{var s="http://yhdc.tendcloud.com/atm_backend/systemManager/role/addRole";e.http.post(s,{isAdmin:!1,name:this.characterval},{emulateJSON:!0}).then(function(e){t.addconnect(),0==e.body.resultCode?t.$Notice.success({title:"用户管理",desc:"新增角色成功"}):t.$Notice.error({title:"用户管理",desc:"新增角色失败！"})},function(e){console.log("请求数据失败！")})}},addconnect:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/role/queryAllRoles";e.http.post(a,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){t.data1=e.body.list},function(e){console.log("请求数据失败！")})},removecharacter:function(t){var a=this;this.$Modal.confirm({title:"删除角色",content:"<p>您确认删除角色吗？</p>",onOk:function(){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/role/deleteRole";e.http.post(n,{roleId:t},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(a.addconnect(),a.$Notice.success({title:"用户管理",desc:"删除角色成功"})):a.$Notice.error({title:"用户管理",desc:"删除角色失败！"})},function(e){console.log("请求数据失败！")})}})},updatemenu:function(e){this.characterShow.id=e,this.characterShow.isb=!0,this.characterShow.isc=!1,this.$emit("character-msg",this.characterShow)},updateuser:function(t){var a=this,n="http://yhdc.tendcloud.com/atm_backend/systemManager/user/queryUsersByRole";e.http.post(n,{roleId:t},{emulateJSON:!0}).then(function(e){a.characterShow.id=t,a.characterShow.isc=!0,a.characterShow.isb=!1,a.characterShow.connect=e.body,a.$emit("character-msg",a.characterShow)},function(e){console.log("请求数据失败！")})}}}}).call(t,a(1))},511:function(e,t){e.exports=' <section class=character-swiper> <div class=character-swiper_btn> <i-input :value.sync=characterval placeholder=请输入角色名称 style="width: 200px" size=small></i-input> <i-button type=primary size=small @click=addcharacter class=user-mar>新增角色</i-button> </div> <i-table highlight-row border :columns=columnscharacter :data=data1 :content=self size=small></i-table> </section> '},512:function(e,t,a){var n,s,i={};n=a(513),s=a(514),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(c.template=s),c.computed||(c.computed={}),Object.keys(i).forEach(function(e){var t=i[e];c.computed[e]=function(){return t}})},513:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{self:this,cartmenuSelectDef:"",cartmenuSelectArr:[],value1:"",value2:"",value3:"",cartmenuData:[],cartmenu_table:[{sortable:!0,title:"Id",key:"id",type:"center"},{sortable:!0,title:"名称",key:"name",type:"center"},{sortable:!0,title:"顺序号",key:"orderNum",type:"center"},{sortable:!0,title:"父id",key:"pid",type:"center"},{sortable:!0,title:"路径",key:"url",type:"center"},{title:"操作",width:100,type:"center",render:function(e,t,a){var n=e.id;return'<i-button type="error" size="small" @click="cartmenu_remove('+n+')">删除</i-button>'}}]}},ready:function(){this.cartmenu_connect()},methods:{cartmenu_connect:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/menu/queryAllMenus";e.http.post(a,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){t.cartmenuData=e.body.list,t.cartmenuSelectArr=e.body.list},function(e){console.log("请求不到数据")})},cartmenu_change:function(e){},add_cartmenu:function(){var t=this;if(this.cartmenuSelectDef&&this.value1&&this.value2&&this.value3){var a="http://yhdc.tendcloud.com/atm_backend/systemManager/menu/addMenu";e.http.post(a,{menuPid:this.cartmenuSelectDef,orderNum:this.value3,name:this.value1,url:this.value2},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(t.cartmenu_connect(),t.$Notice.success({title:"新增菜单",desc:"新增菜单成功！"})):t.$Notice.success({title:"新增菜单",desc:"新增菜单失败！"})},function(e){console.log("请求数据失败")})}else this.$Notice.warning({title:"新增菜单失败",desc:"请完善信息！"})},cartmenu_remove:function(t){var a=this;this.$Modal.confirm({title:"删除菜单",content:"<p>您确认要删除菜单吗？</p>",onOk:function(){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/menu/deleteMenu";e.http.post(n,{menuId:t},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(a.cartmenu_connect(),a.$Notice.success({title:"删除菜单",desc:"删除菜单成功！"})):a.$Notice.error({title:"删除菜单",desc:"删除菜单失败！"})},function(e){console.log("请求不到数据！")})}})}}}}).call(t,a(1))},514:function(e,t){e.exports=' <section class=cartmenu-swiper> <p class=cartmenu-swiper-input> <label for="">父级菜单:</label> <i-select :model.sync=cartmenuSelectDef style=width:200px size=small> <i-option v-for="item in cartmenuSelectArr" :value=item.id>{{item.name}}</i-option> </i-select> <i-input :value.sync=value1 placeholder=请输入菜单名称 style="width: 200px" size=small class=user-mar></i-input> <i-input :value.sync=value2 placeholder=请输入菜单url style="width: 200px" size=small class=user-mar></i-input> <i-input :value.sync=value3 placeholder=请输入顺序号 style="width: 200px" size=small class=user-mar></i-input> <i-button type=primary @click=add_cartmenu size=small class=user-mar>新增菜单</i-button> </p> <i-table highlight-row border :columns=cartmenu_table :data=cartmenuData :content=self size=small></i-table> </section> '},515:function(e,t,a){var n,s,i={};n=a(516),s=a(517),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports.default);var c="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;s&&(c.template=s),c.computed||(c.computed={}),Object.keys(i).forEach(function(e){var t=i[e];c.computed[e]=function(){return t}})},516:function(e,t,a){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{self:this,value:"",departmentSelectDef:"",departmentSelectArr:[],departmentTable:[{sortable:!0,title:"Id",key:"id",type:"center"},{sortable:!0,title:"部门名称",key:"deptName",type:"center"},{sortable:!0,title:"父id",key:"pid",type:"center"},{title:"操作",type:"center",render:function(e,t,a){var n=e.id;return'<i-button type="error" size="small" @click="department_remove('+n+')">删除</i-button>'}}],departmentData:[]}},ready:function(){this.department_connect()},methods:{department_connect:function(){var t=this,a="http://yhdc.tendcloud.com/atm_backend/systemManager/dept/queryAllDepts";e.http.post(a,{pageNum:0,pageSize:0},{emulateJSON:!0}).then(function(e){t.departmentSelectArr=e.body.list,t.departmentData=e.body.list},function(e){console.log("请求数据失败")})},add_department:function(){var t=this;if(this.departmentSelectDef&&this.value){var a="http://yhdc.tendcloud.com/atm_backend/systemManager/dept/addDept";e.http.post(a,{deptPid:this.departmentSelectDef,deptName:this.value},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(t.department_connect(),t.$Notice.success({title:"新增菜单",desc:"新增菜单成功！"})):t.$Notice.error({title:"新增菜单",desc:"新增菜单失败！"})},function(e){console.log("请求数据失败")})}else this.$Notice.warning({title:"新增部门失败",desc:"请先完善信息！"})},department_remove:function(t){var a=this;this.$Modal.confirm({title:"删除部门",content:"<p>您确认要删除部门吗？</p>",onOk:function(){var n="http://yhdc.tendcloud.com/atm_backend/systemManager/dept/deleteDept";e.http.post(n,{deptId:t},{emulateJSON:!0}).then(function(e){0==e.body.resultCode?(a.department_connect(),a.$Notice.success({title:"删除部门",desc:"删除部门成功！"})):a.$Notice.error({title:"删除部门",desc:"删除部门失败！"})},function(e){console.log("请求数据失败")})}})}}}}).call(t,a(1))},517:function(e,t){e.exports=' <section> <p class=cartmenu-swiper-input> <label for="">上级部门名称:</label> <i-select :model.sync=departmentSelectDef style=width:200px size=small> <i-option v-for="item in departmentSelectArr" :value=item.id>{{item.deptName}}</i-option> </i-select> <i-input :value.sync=value placeholder=请输入... style="width: 200px" size=small class=user-mar></i-input> <i-button type=primary @click=add_department size=small class=user-mar>新增部门</i-button> </p> <i-table highlight-row border :columns=departmentTable :data=departmentData :content=self size=small></i-table> </section> '},518:function(e,t){e.exports=' <div class=atm-ide> <section class=""> <tabs type=card> <tab-pane label=用户管理><management @child-msg=get1 :chuan=chuan><management></management></management></tab-pane> <tab-pane label=角色管理><character @character-msg=get2></character></tab-pane> <tab-pane label=菜单管理><cartemenu></cartemenu></tab-pane> <tab-pane label=部门列表><department></department></tab-pane> </tabs> <modal :visible.sync=user_show title=用户管理--角色管理 ok-text=保存角色 @on-ok=userOk width=800> <checkbox :value=item.id :checked="social.indexOf(item.id)!==-1" @change=changeSocoal(item) v-for="item in userarr"> <span>{{item.name}}</span> </checkbox> <div class=useradd> <label for="">新增角色</label> <template v-if=userList.length> <i-select :model.sync=userid style=width:200px size=small> <i-option v-for="item in userList" :value=item.id @click=change(item)>{{item.name}}</i-option> </i-select> </template> </div> </modal> <modal :visible.sync=user_show1 title=用户管理--修改用户 ok-text=保存 @on-ok=SaveUser @on-cancel=off width=800> <p class=useradd>我的用户名:{{name}} <i-button size=small @click=updateName style="margin:0 10px">修改</i-button> <i-input :value.sync=nameValue placeholder=请输入... style="width: 300px" size=small v-show=updateUserName></i-input> </p> <p class=useradd>我的部门:{{deptName}}</p> <div class=useradd> <label for="">修改部门</label> <i-select :model.sync=updateUser style=width:200px size=small> <i-option v-for="item in list" :value=item.id @click=updateDeptName(item)>{{item.deptName}}</i-option> </i-select> </div> </modal></section></div>  <modal :visible.sync=character_show title=角色管理--菜单管理 ok-text=保存 @on-ok=characterOk width=800> <checkbox :value=item.id :checked="arrayarr.indexOf(item.id)!==-1" @change=changearrayarr(item) v-for="item in getcharacterarr"> <span>{{item.name}}</span> </checkbox> <div class=character-selector> <i-select :model.sync=selectarr style=width:200px size=small> <i-option v-for="item in characterList" :value=item.id @click=characterchange(item)>{{item.name}}</i-option> </i-select> </div> </modal> <modal :visible.sync=character_show1 title="" width=800> <i-table highlight-row border :columns=getcharacter2 :data=getcharacterdata2 :content=self size=small></i-table> </modal> '}});