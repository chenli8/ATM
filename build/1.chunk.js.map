{"version":3,"sources":["webpack:///./src/components/login.vue","webpack:///login.vue","webpack:///./src/components/login.vue?314f"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,sDAAqD,mDAAmD;AACxG;AACA;AACA;AACA;AACA,qHAAoH;AACpH;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C,EAAC;AACD,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACeD,oCACA;QACA;;;mBAGA;2BAEA;AAHA;mBAIA;mBACA;sBAEA;;uBACA;mBACA;sBAEA;;qBACA;mBACA;sBAGA;;AAjBA;2BAkBA;;sCAEA;sCACA;iCACA;qBACA;4BACA;sBACA;yBACA;wBACA;sBACA;uBACA;kBAEA;AAZA;AAaA;6BACA;kCACA;;mDACA;6CACA,0BAEA,gBACA;AACA;mCACA;sCACA;wCACA;6BACA;AACA;AACA;6EACA;UACA;AACA;6BAEA;kBACA;yBACA;uBACA;yBACA;kDACA;+CACA;gCACA;8BACA;wBACA;oBACA;gBACA;8CACA;kCACA;4BACA;wBACA;AACA;AACA;8BACA;8BACA;wBACA;oBACA;gBACA;0CACA;kCACA;4BACA;wBACA;AACA;AACA;0BACA;oBACA;wDACA;;uBAEA;sBACA;yBAEA;AAJA;AAKA;AACA;;AACA;;gEACA;sBACA,8BACA;4DACA;iDACA;AACA;gCACA;yBACA;AACA;AACA;+BACA;kBACA;;;gBACA;oCACA;uCACA;oEACA;;wBAEA;2BACA;AAFA,gEAGA;qDACA;yDACA;;AACA,yEACA;wCACA;2CACA;+EACA;8FACA;AACA;;qDACA;wDACA;4DACA;4BACA;oEACA;wEACA;gFACA;AACA;mCACA;4DACA;sCACA;gCACA;4DACA;sCACA;gCACA;wBACA;sCACA;gCACA;AACA;oCACA;6BACA;AACA;AACA;AACA;mCACA;uFACA;AAEA;AAjGA;;;;;;;;;;;;AC/FA,0JAAyJ,cAAc,2UAA2U,SAAS,8UAA8U,sPAAsP,+EAA+E,KAAK,s/B","file":"1.chunk.js","sourcesContent":["var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./login.vue\")\nif (Object.keys(__vue_script__).some(function (key) { return key !== \"default\" && key !== \"__esModule\" })) {\n  console.warn(\"[vue-loader] src\\\\components\\\\login.vue: named exports in *.vue files are ignored.\")}\n__vue_template__ = require(\"!!vue-html-loader!../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./login.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  var id = \"_v-be712e3e/login.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = 50\n// module chunks = 1","<template>\n    <div class=\"login-contain\">\n        <div class=\"login\">\n            <h1 class=\"login-logo\"></h1>\n            <p class=\"login-title\">{{ loginTitle }}</p>\n            <form>\n                <input v-model=\"userVal\" type=\"text\"  class=\"login-user\" placeholder=\"请输入用户名\" @blur=\"check('user')\">\n                <input v-model=\"pwVal\" type=\"password\"  class=\"login-pw\" placeholder=\"请输入密码\" @blur=\"check('pw')\">\n                <div v-show=\"login_error\" class=\"login-error\">{{ error }}</div>\n                <div class=\"find-div clearfix\">\n                    <div v-show=\"rememberMe\" class=\"rem-label\">\n                        <label>\n                            <Checkbox :checked.sync=\"single\">记住我</Checkbox>\n                        </label>\n                        <Poptip placement=\"right\" width=\"400\" style='left:-18px;position:relative'>\n                            <i-button type=\"text\" ><Icon type=\"help-circled\" size=\"15\"></Icon></i-button>\n                        <div class=\"api\" slot=\"content\">\n                            <strong style=\"text-align:center;display:block\">Data ATM权限开通须知</strong>\n                            <p>1、发送邮件至：《{{arr}}》</p>\n                            <p>2、抄送邮件至：何兴权《xingquan.he@tendcloud.com》，以及申请人直接领导</p>\n                            <p>3、邮件主题：Data ATM权限开通申请</p>\n                            <p>4、邮件正文指定姓名、公司邮箱地址、部门名称、开通理由</p>\n                            <p>内容模板示例：</p>\n                            <div class=\"login_der\">  \n                                 <p>姓名：张三</p>\n                                 <p>邮箱：san.zhang@tendcloud.com</p>\n                                 <p>部门：咨询部-FE</p>\n                                 <p>理由：监控平台的运行状态，保证平台稳定性</p>\n                             </div>\n                           <p> 5、谢绝口头开通，谢绝代人开通，不按要求申请不予开通</p>\n                           <p> 6、领导逐一审批通过，我们会第一时间给予开通，系统自动邮件通知账号信息</p>\n                        </div>\n                    </div>\n                    <a v-show=\"findPw\" class=\"forget-pw\" @click='handbook()'>用户使用手册</a>\n                    <a v-show=\"register\" class=\"register-pw\">注册</a>\n                </div>\n                <i-button type=\"success\" long  @click=\"submit\">登录</i-button>\n            </form>\n        </div>\n    </div>\n</template>\n<script>\nvar md5 = require('md5');//md555\n    module.exports = {\n        props:{\n            loginTitle:{\n                type:String,\n                default:\"登录\" //修改登录名称\n            },\n            findPw:{ //true 保留忘记密码功能  false 删除忘记密码功能\n                type:Boolean,\n                default:true,\n            },\n            rememberMe:{// true 保留记住我功能  false 删除记住我功能\n                type:Boolean,\n                default:true\n            },\n            register:{//true 保留注册功能  false 删除注册功能\n                type:Boolean,\n                default:false\n            }\n        },\n        data() {\n            return {\n                \"url_run\":\"index.html\",       //登录成功后跳转地址\n                \"url_login\":\"td-login\",       //登录接口地址\n                \"dataType\":\"json\",            //服务器返回的数据类型\n                \"type\":\"post\",\n                \"login_error\":false ,\n                \"error\":\"\",\n                \"remember\":false,\n                \"userVal\":'',\n                \"pwVal\":'',\n                \"single\":false,\n                 arr:[],\n            }\n        },\n        ready(){\n            function getCookie(name){\n                var arr,reg=new RegExp(\"(^| )\"+name+\"=([^;]*)(;|$)\");\n                if(arr=document.cookie.match(reg))\n                return unescape(arr[2]);\n                else\n                return null;\n            }\n           let useremail=(getCookie('useremail')),\n               userpassword=(getCookie('userpassword'));\n               if(useremail && userpassword){\n                    this.$router.go(\"./connect/delivery\")\n               }\n        },\n        ready(){\n          this.getconnect()\n        },\n        methods : {\n            check () {\n                let vm=this;\n                let reg_email =  /^([a-zA-Z0-9]+[_|\\_|\\.|\\-]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/,\n                    reg_pwd = /.{6,18}/,\n                    reg_empty = /\\s/g;\n                let user = vm.userVal.replace(reg_empty,''),\n                    pwd = vm.pwVal.replace(reg_empty,'');\n                if(vm.userVal === \"\") {\n                    vm.login_error=true;\n                    vm.error=\"用户名不能为空\";\n                    return false;\n                }else {\n                    if(!reg_email.test(vm.userVal)) {\n                        vm.login_error=true;\n                        vm.error=\"请输入正确的邮箱\";\n                        return false;\n                    }\n                }\n                if(vm.pwVal === \"\") {\n                    vm.login_error=true;\n                    vm.error=\"密码不能为空\";\n                    return false;\n                }else {\n                    if(!reg_pwd.test(vm.pwVal)) {\n                        vm.login_error=true;\n                        vm.error=\"密码长度大于6位\";\n                        return false;\n                    }\n                }\n                vm.login_error=false;\n                vm.error=\"\";\n                if(reg_email.test(user) && reg_pwd.test(pwd)) {\n                    return {\n                        user:user,\n                        pwd:pwd,\n                        rem:vm.single\n                    };\n                }\n            },\n            getconnect(){\n                    let url=process.env.NODE_ENV.apiPath+\"systemManager/user/queryAllAdmins\";\n                    Vue.http.get(url)\n                    .then((response) => {\n                       for(var i=0;i<response.body.length;i++){\n                        this.arr.push(response.body[i].email)\n                       }\n                    }, (response) => {\n                        console.log('请求不到数据')\n                    });\n            },\n            submit () {\n                var vm = this;\n                if( vm.error!='' || !this.userVal || !this.pwVal){ return; }else{\n                    let _user=vm.check ().user,\n                        _pwd=md5(vm.check ().pwd),\n                        url=process.env.NODE_ENV.apiPath+\"systemManager/login\";\n                   Vue.http.post(url,{\n                        email:_user,\n                        password:_pwd,\n                    },{emulateJSON:true}).then((response)=>{\n                        if(response.body.resultCode===0){\n                                    let json=JSON.parse(response.body.resultValue)\n                                    if(vm.check ().rem){\n                                         function setCookie(name,value){\n                                            var Days = 30;\n                                            var exp = new Date();\n                                            exp.setTime(exp.getTime() + Days*24*60*60*1000);\n                                            document.cookie = name + \"=\"+ escape (value) + \";expires=\" + exp.toGMTString();\n                                         }\n                                         setCookie('useremail',json.email)\n                                         setCookie('userpassword',json.password)\n                                         setCookie('atmJson',response.body.resultValue)\n                                    }else{\n                                            sessionStorage.setItem('sessionUser',json.email);\n                                            sessionStorage.setItem('sessionPassword',json.password);\n                                            sessionStorage.setItem('sessionAtmJson',response.body.resultValue);\n                                    }\n                            vm.$router.go(\"./connect/delivery\")\n                        }else if(response.body.resultCode===4){\n                             vm.login_error=true;\n                             vm.error=\"邮箱格式错误\";\n                        }else if(response.body.resultCode===5){\n                             vm.login_error=true;\n                             vm.error=\"用户名密码错误\";\n                        }else{\n                             vm.login_error=true;\n                             vm.error=\"失败\";\n                        }\n                    },(response)=>{\n                        console.log('请求数据失败')\n                    })\n                }\n            },\n            handbook(){\n                 window.open ('http://wiki.tenddata.com/pages/viewpage.action?pageId=26084143', '_blank' ) ;\n            }   \n        }\n    }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// login.vue?80108fda","module.exports = \"\\n<div class=\\\"login-contain\\\">\\n    <div class=\\\"login\\\">\\n        <h1 class=\\\"login-logo\\\"></h1>\\n        <p class=\\\"login-title\\\">{{ loginTitle }}</p>\\n        <form>\\n            <input v-model=\\\"userVal\\\" type=\\\"text\\\"  class=\\\"login-user\\\" placeholder=\\\"请输入用户名\\\" @blur=\\\"check('user')\\\">\\n            <input v-model=\\\"pwVal\\\" type=\\\"password\\\"  class=\\\"login-pw\\\" placeholder=\\\"请输入密码\\\" @blur=\\\"check('pw')\\\">\\n            <div v-show=\\\"login_error\\\" class=\\\"login-error\\\">{{ error }}</div>\\n            <div class=\\\"find-div clearfix\\\">\\n                <div v-show=\\\"rememberMe\\\" class=\\\"rem-label\\\">\\n                    <label>\\n                        <Checkbox :checked.sync=\\\"single\\\">记住我</Checkbox>\\n                    </label>\\n                    <Poptip placement=\\\"right\\\" width=\\\"400\\\" style='left:-18px;position:relative'>\\n                        <i-button type=\\\"text\\\" ><Icon type=\\\"help-circled\\\" size=\\\"15\\\"></Icon></i-button>\\n                    <div class=\\\"api\\\" slot=\\\"content\\\">\\n                        <strong style=\\\"text-align:center;display:block\\\">Data ATM权限开通须知</strong>\\n                        <p>1、发送邮件至：《{{arr}}》</p>\\n                        <p>2、抄送邮件至：何兴权《xingquan.he@tendcloud.com》，以及申请人直接领导</p>\\n                        <p>3、邮件主题：Data ATM权限开通申请</p>\\n                        <p>4、邮件正文指定姓名、公司邮箱地址、部门名称、开通理由</p>\\n                        <p>内容模板示例：</p>\\n                        <div class=\\\"login_der\\\">  \\n                             <p>姓名：张三</p>\\n                             <p>邮箱：san.zhang@tendcloud.com</p>\\n                             <p>部门：咨询部-FE</p>\\n                             <p>理由：监控平台的运行状态，保证平台稳定性</p>\\n                         </div>\\n                       <p> 5、谢绝口头开通，谢绝代人开通，不按要求申请不予开通</p>\\n                       <p> 6、领导逐一审批通过，我们会第一时间给予开通，系统自动邮件通知账号信息</p>\\n                    </div>\\n                </div>\\n                <a v-show=\\\"findPw\\\" class=\\\"forget-pw\\\" @click='handbook()'>用户使用手册</a>\\n                <a v-show=\\\"register\\\" class=\\\"register-pw\\\">注册</a>\\n            </div>\\n            <i-button type=\\\"success\\\" long  @click=\\\"submit\\\">登录</i-button>\\n        </form>\\n    </div>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = 71\n// module chunks = 1"],"sourceRoot":""}